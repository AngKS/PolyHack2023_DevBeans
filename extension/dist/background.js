let timeoutId=null;function updateButtonState(e,t,o){chrome.tabs.sendMessage(e,{action:"updateButtonState",state:t,suggestions:o})}chrome.runtime.onMessage.addListener((function(e,t,o){if(console.log("Received message:",e),"overlayClicked"===e.action){console.log("Overlay button was clicked.");let e=["Suggestion 1","Suggestion 2","Suggestion 3"];updateButtonState(t.tab.id,"suggestions",e)}if("logInput"===e.action)console.log("Input value:",e.inputValue),updateButtonState(t.tab.id,"processing"),clearTimeout(timeoutId),timeoutId=setTimeout((function(){console.log("Sending API request..."),updateButtonState(t.tab.id,"success"),e.inputValue}),2e3);else if(e.content)console.log("Scraped content:",e.content);else if(e.localStorageData&&"mindful-beans.netlify.app"==e.website){const t=e.localStorageData;chrome.storage.local.set(t,(function(){console.log("LocalStorage data copied and saved to extension storage."),chrome.storage.local.get("sb-uippnkhijtqmwnwnnypz-auth-token",(function(e){console.log("Retrieved data from extension storage:",e)}))}))}}));